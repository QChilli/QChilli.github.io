<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>STM32基础篇</title>
      <link href="/2024/09/01/%E5%B5%8C%E5%85%A5%E5%BC%8F/STM32%E5%9F%BA%E7%A1%80%E7%AF%87/"/>
      <url>/2024/09/01/%E5%B5%8C%E5%85%A5%E5%BC%8F/STM32%E5%9F%BA%E7%A1%80%E7%AF%87/</url>
      
        <content type="html"><![CDATA[<h2 id="第一阶段"><a href="#第一阶段" class="headerlink" title="第一阶段"></a>第一阶段</h2><div class="note default simple"><p>内容</p></div><h2 id="1-STM32最小系统"><a href="#1-STM32最小系统" class="headerlink" title="1. STM32最小系统"></a>1. STM32最小系统</h2><p>STM32单片机能工作的最小外围电路就叫最小系统。最小系统通常包括：STM32芯片、电源、时钟、下载调试和复位五部分组成。</p><h3 id="1-STM32芯片"><a href="#1-STM32芯片" class="headerlink" title="1. STM32芯片"></a>1. STM32芯片</h3><p>选用的是STM32F103ZET6这款芯片。</p><p><img src="https://xiza3i1x6q4.feishu.cn/space/api/box/stream/download/asynccode/?code=YzU0YzJmZjgxZWI2ZTQxZjAxNzRmM2ExNDgzMTBmZjBfZEE5NkFPcldLUk1odmlYQlQ3MTgyZFJHSThXaG9IczZfVG9rZW46SWtKZmJ1V2xsb0YwZDV4aFczYmMwYmlSbk5RXzE3MjUzMzk2NjM6MTcyNTM0MzI2M19WNA" alt="img"></p><h3 id="2-电源"><a href="#2-电源" class="headerlink" title="2. 电源"></a>2. 电源</h3><ul><li><p>采用3.3V电源供电。我们电路采用了两路供电：</p><ol><li>一路是USB的Type-C供电，Type-C提供的是5V，使用芯片AMS1117把5V转成3.3V。</li><li>另一路是ST-Link下载器直接提供3.3V供电（下载器内部已经把5V转成了3.3V）。</li></ol><ul><li><p><strong>MCU电源</strong><br><img src="https://xiza3i1x6q4.feishu.cn/space/api/box/stream/download/asynccode/?code=OWMzNWViYjczNTg5ZGU0ODY2ZTJhZDlkZjdkZDZiMGVfVTV5cUhDN2VrV0E5ZU9JaHpFSVJrRXV0ZFV6Y0dSaU9fVG9rZW46T3hrdGJhQnM1b0dGM1l4WkR1dWNzeVNSbm9lXzE3MjUzNDAxNTY6MTcyNTM0Mzc1Nl9WNA" alt="img"></p></li><li><p><strong>USB供电转3.3V</strong><br><img src="https://xiza3i1x6q4.feishu.cn/space/api/box/stream/download/asynccode/?code=YmQyODJjNzdjNzZkZDgxNjA1M2IxZWUzYjk5MjU4NzVfU2JHNm8xZzhOR0JhZjJ4T1FmaTRUcFByMGVVc0hWc09fVG9rZW46V2lVWmJSQVdhb0pWeEN4dGJ3VWNFeXRUbkFjXzE3MjUzNDAxMTA6MTcyNTM0MzcxMF9WNA" alt="img"></p></li><li><p><strong>MCU调试口</strong><br><img src="https://xiza3i1x6q4.feishu.cn/space/api/box/stream/download/asynccode/?code=YjRiMWE1NDVhM2Y4OGJhMTEyOTg5NzlhYTg0ZTQyZWZfQndNTUNwNXVxUG8xZDN4RFlYMWtlcFBQQzF3c0JDRW1fVG9rZW46QXU5dGJRT0lLb2xaSnB4bFZ2d2NuWFlHbmJvXzE3MjUzNDAxODU6MTcyNTM0Mzc4NV9WNA" alt="img"></p></li></ul><p>不用额外再接串口模块。</p></li></ul><h3 id="3-时钟"><a href="#3-时钟" class="headerlink" title="3. 时钟"></a>3. 时钟</h3><p>STM32提供了两路外部时钟：外部高速时钟和外部低速时钟。</p><p><img src="https://xiza3i1x6q4.feishu.cn/space/api/box/stream/download/asynccode/?code=Y2NkMTAwZjFmNTc2YTkwNTllYmIzNzczYjNjYTkwOGJfUllBMDBPNzMycE42VDhpM2xZR3h4azF4eTBkQU1qV3hfVG9rZW46Rk1CV2JUVGtrb3RVSkV4NVljTmNHY25ObnBoXzE3MjUzNDAzMjI6MTcyNTM0MzkyMl9WNA" alt="img"></p><p><img src="https://xiza3i1x6q4.feishu.cn/space/api/box/stream/download/asynccode/?code=N2I1ZWUwOWVlYWMyYmU3ZDJlNjYyOGJiMWVlODgyNDNfSldha1pRQ3d5QXRod2k1VjdjUnBNSW9ZbzZMTlpsSGdfVG9rZW46RHd0d2JrZnlEb2FKUzh4RG1TbmNQdDhlbmhkXzE3MjUzNDAzNTI6MTcyNTM0Mzk1Ml9WNA" alt="img"></p><h3 id="4-复位"><a href="#4-复位" class="headerlink" title="4. 复位"></a>4. 复位</h3><p><img src="https://xiza3i1x6q4.feishu.cn/space/api/box/stream/download/asynccode/?code=MGY3ZGQ5OWNlOWEyNWJkMTdjYzNlYjBjZmQ2MmNhOWJfMjJwRkZZY3NYbWNvYWtJM1NhWXpCOEd6ZGpaNzkwVnJfVG9rZW46RDd3M2JaQmFmbzBBWEt4QzBYZWMyc0IzbnZjXzE3MjUzNDA0ODE6MTcyNTM0NDA4MV9WNA" alt="img"></p><h3 id="5-下载调试"><a href="#5-下载调试" class="headerlink" title="5. 下载调试"></a>5. 下载调试</h3><p><img src="https://xiza3i1x6q4.feishu.cn/space/api/box/stream/download/asynccode/?code=NDIyNzJhODk4MTgxMWRhMjFmZDg3MzNmMzhhMmEzYjVfWVRlRmhlZ3FINndldE0xZlFENzNXVmd0a3JGd2VjYlVfVG9rZW46TUhzeWJHa1FHb245cTF4VEhNNGNQM3ZIbmxlXzE3MjUzNDA1MDA6MTcyNTM0NDEwMF9WNA" alt="img"></p><h2 id="2-点亮LED灯案例（寄存器）"><a href="#2-点亮LED灯案例（寄存器）" class="headerlink" title="2. 点亮LED灯案例（寄存器）"></a>2. 点亮LED灯案例（寄存器）</h2><p>​    我们首先使用基于寄存器开发方式点亮第一个LED灯。在代码期间会涉及到一些寄存器知识，先不要深究，后面再详细介绍。现在要做的就是点亮第一个LED灯。</p><h3 id="1-需求描述"><a href="#1-需求描述" class="headerlink" title="1. 需求描述"></a>1. 需求描述</h3><p>快速体验STM32开发：点亮LED1。</p><h3 id="2-硬件电路设计"><a href="#2-硬件电路设计" class="headerlink" title="2. 硬件电路设计"></a>2. 硬件电路设计</h3><p>LED1-LED3是普通LED灯，LED4为电源指示灯。</p><p><img src="链接到电路图片" alt="硬件电路设计"></p><p>说明：</p><ol><li>LED1连接的是端口PA0</li><li>只要让PA0引脚输出低电平就可以点亮LED1。</li></ol><h3 id="3-创建项目工程"><a href="#3-创建项目工程" class="headerlink" title="3. 创建项目工程"></a>3. 创建项目工程</h3><h4 id="1-创建工程准备"><a href="#1-创建工程准备" class="headerlink" title="1. 创建工程准备"></a>1. 创建工程准备</h4><h5 id="1-创建需要的目录"><a href="#1-创建需要的目录" class="headerlink" title="1. 创建需要的目录"></a>1. 创建需要的目录</h5><p>在磁盘上创建一个目录 <code>atguigu</code>，然后再在 <code>atguigu</code> 目录下创建我们的第一个工程目录 <code>led_register</code>。</p><p><img src="链接到目录图片" alt="创建目录"></p><h5 id="2-准备启动文件"><a href="#2-准备启动文件" class="headerlink" title="2. 准备启动文件"></a>2. 准备启动文件</h5><p>STM32程序需要启动文件，我们需要提前准备好。先去ST官网下载官方提供的外设标准库，里面有提供标准的启动文件，我们从里面copy一份出来。</p><p>标准外设库下载地址：<a href="https://www.st.com/zh/embedded-software/stm32-standard-peripheral-libraries/products.html">ST官网</a></p><p><img src="链接到外设库图片" alt="下载外设库"></p><p>下载完成之后解压，后面我们需要从里面copy文件出来。</p><h5 id="3-创建目录放入启动文件和其他核心文件"><a href="#3-创建目录放入启动文件和其他核心文件" class="headerlink" title="3. 创建目录放入启动文件和其他核心文件"></a>3. 创建目录放入启动文件和其他核心文件</h5><p>为了方便管理，我们把启动文件放入专门目录中。在刚才创建的工程目录中创建一个目录：<code>Start</code>（名字没有强制要求，随意，但是最好不要有中文）。</p><p><img src="链接到创建目录图片" alt="创建目录"></p><p>去到我们刚才下载的标准外设库目录，找到我们需要的启动文件和其他核心文件copy到 <code>Start</code> 目录。</p><p><img src="链接到启动文件选择图片" alt="启动文件选择"></p><p>Copy完之后：<br><img src="链接到复制完成图片" alt="复制完成"></p><h5 id="4-创建工程"><a href="#4-创建工程" class="headerlink" title="4. 创建工程"></a>4. 创建工程</h5><p>打开Keil MDK创建工程。</p><p><img src="链接到创建工程图片" alt="创建工程"></p><h4 id="2-工程配置"><a href="#2-工程配置" class="headerlink" title="2. 工程配置"></a>2. 工程配置</h4><h5 id="1-添加两个Project-Group方便管理代码文件。"><a href="#1-添加两个Project-Group方便管理代码文件。" class="headerlink" title="1. 添加两个Project Group方便管理代码文件。"></a>1. 添加两个Project Group方便管理代码文件。</h5><p><img src="链接到Project Group图片" alt="添加Project Group"></p><h5 id="2-先删除默认的-Source-Group-1，再添加两个：Start（启动相关的文件），User（我们自己写的代码）。"><a href="#2-先删除默认的-Source-Group-1，再添加两个：Start（启动相关的文件），User（我们自己写的代码）。" class="headerlink" title="2. 先删除默认的 Source Group 1，再添加两个：Start（启动相关的文件），User（我们自己写的代码）。"></a>2. 先删除默认的 <code>Source Group 1</code>，再添加两个：<code>Start</code>（启动相关的文件），<code>User</code>（我们自己写的代码）。</h5><p><img src="链接到删除Source Group 1图片" alt="删除Source Group 1"><br><img src="链接到添加Source Group图片" alt="添加Source Group"></p><h5 id="3-创建-main-c-文件"><a href="#3-创建-main-c-文件" class="headerlink" title="3. 创建 main.c 文件"></a>3. 创建 <code>main.c</code> 文件</h5><p><img src="链接到创建main.c图片" alt="创建main.c"></p><p><code>User</code>路径不存在，让它帮我们创建。</p><p><img src="链接到创建路径图片" alt="创建路径"></p>]]></content>
      
      
      <categories>
          
          <category> 嵌入式 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> STM32 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>测试</title>
      <link href="/2024/09/01/%E6%9D%82%E8%B0%88/sb/"/>
      <url>/2024/09/01/%E6%9D%82%E8%B0%88/sb/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      <categories>
          
          <category> 杂谈 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>测试</title>
      <link href="/2024/09/01/%E8%93%9D%E6%A1%A5%E6%9D%AF/STM/nn/"/>
      <url>/2024/09/01/%E8%93%9D%E6%A1%A5%E6%9D%AF/STM/nn/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      <categories>
          
          <category> 蓝桥杯32 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>第2篇文章</title>
      <link href="/2024/09/01/%E8%93%9D%E6%A1%A5%E6%9D%AF/MCU/mm/"/>
      <url>/2024/09/01/%E8%93%9D%E6%A1%A5%E6%9D%AF/MCU/mm/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      <categories>
          
          <category> 蓝桥杯51 </category>
          
      </categories>
      
      
    </entry>
    
    
  
  
</search>
